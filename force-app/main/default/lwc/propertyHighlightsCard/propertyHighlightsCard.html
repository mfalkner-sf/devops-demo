<template>
  <lightning-card
    title="Property Highlights"
    icon-name="custom:property_highlights"
  >
    <template if:true={loading}>
      <div class="slds-p-around_medium slds-grid slds-grid_align-center">
        <lightning-spinner
          alternative-text="Loading properties"
          size="small"
        ></lightning-spinner>
      </div>
    </template>

    <template if:true={error}>
      <div class="slds-p-around_medium">
        <div
          class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error"
          role="alert"
        >
          <span class="slds-assistive-text">Error</span>
          <span>Unable to load properties.</span>
        </div>
      </div>
    </template>

    <template if:true={hasData}>
      <div class="slds-p-around_medium">
        <lightning-datatable
          key-field="id"
          data={rows}
          columns={columns}
          hide-checkbox-column
          onrowaction={handleRowAction}
        >
        </lightning-datatable>
      </div>
    </template>

    <template if:false={hasData}>
      <template if:false={loading}>
        <div
          class="slds-p-around_medium slds-text-align_center slds-text-color_weak"
        >
          No properties found for this Account.
        </div>
      </template>
    </template>
  </lightning-card>
</template>
